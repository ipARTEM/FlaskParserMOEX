# üìä FlaskParserMOEX

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –Ω–∞ **Flask**, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–ø–ª–æ–∫–∞—Ä—Ç—ã –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏ (MOEX) –ø–æ –∞–∫—Ü–∏—è–º (TQBR) –∏ —Ñ—å—é—á–µ—Ä—Å–∞–º (RFUD).  
–ü—Ä–æ–µ–∫—Ç –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω [parserMOEX](https://github.com/ipARTEM/parserMOEX), –Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω:  
‚Äî –¥–æ–±–∞–≤–ª–µ–Ω **Flask**, **Blueprints**, **–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ API.  
‚Äî –ø–ª–∏—Ç–∫–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º: –æ—Ç üü• –∫—Ä–∞—Å–Ω–æ–≥–æ (—Å–∏–ª—å–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ) –¥–æ üü© –∑–µ–ª—ë–Ω–æ–≥–æ (—Å–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç).  

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** ‚Äì –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω.
- **–ö–æ–Ω—Ç–∞–∫—Ç—ã** ‚Äì –¥–∞–Ω–Ω—ã–µ –æ–± –∞–≤—Ç–æ—Ä–µ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è).
- **–¢–µ–ø–ª–æ–∫–∞—Ä—Ç—ã** ‚Äì –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –±—É–º–∞–≥ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º.
- **–ü–æ–∏—Å–∫** ‚Äì —Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–∏–∫–µ—Ä–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π.
- **API** ‚Äì –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–ø–ª–æ–∫–∞—Ä—Ç–∞–º –∏ –ø–æ–∏—Å–∫—É –≤ JSON:
  - `/market/api/heatmap`
  - `/market/api/search?q=GAZP`

---

## üñºÔ∏è –°–∫—Ä–∏–Ω—à–æ—Ç

![heatmap demo](docs/1.2.png)
![heatmap demo](docs/2.2.png)
![heatmap demo](docs/3.2.png)
![heatmap demo](docs/4.png)
![heatmap demo](docs/5.png)

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (Windows)

```powershell
git clone https://github.com/ipARTEM/FlaskParserMOEX.git
cd FlaskParserMOEX

# –°–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
py -3 -m venv .venv
.\.venv\Scripts\activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∑–∞–¥–∞—ë–º —Ç–æ–∫–µ–Ω –¥–ª—è –∞–¥–º–∏–Ω-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
$env:FLASK_ADMIN_TOKEN="set-your-strong-admin-token"

# –ó–∞–ø—É—Å–∫
python run.py


### –ò—Å—Ç–æ—Ä–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç
- `/market/snapshot` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–Ω–∏–º–æ–∫ –∏–∑ SQLite.
- `/market/snapshot?at=YYYY-MM-DD[ HH:MM]` ‚Äî —Å–Ω–∏–º–æ–∫ ¬´–Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏¬ª (UTC).
- `/market/api/snapshot?board=TQBR&at=...` ‚Äî JSON-API (–æ–¥–Ω–∞/–æ–±–µ –¥–æ—Å–∫–∏).
- `/market/snapshot.csv?at=...` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç —Å–Ω–∏–º–∫–∞ –≤ CSV.

